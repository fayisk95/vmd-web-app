<div class="login-container">
  <div class="login-header">
    <h2>Sign In</h2>
    <p>Enter your credentials to access your account</p>
  </div>

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Email Address</mat-label>
      <input 
        matInput 
        type="email" 
        formControlName="email"
        placeholder="Enter your email"
        autocomplete="email">
      <mat-icon matSuffix>email</mat-icon>
      <mat-error>{{ getFieldError('email') }}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Password</mat-label>
      <input 
        matInput 
        [type]="hidePassword ? 'password' : 'text'"
        formControlName="password"
        placeholder="Enter your password"
        autocomplete="current-password">
      <button 
        mat-icon-button 
        matSuffix 
        type="button"
        (click)="hidePassword = !hidePassword"
        [attr.aria-label]="'Hide password'"
        [attr.aria-pressed]="hidePassword">
        <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
      <mat-error>{{ getFieldError('password') }}</mat-error>
    </mat-form-field>

    <button 
      mat-raised-button 
      color="primary" 
      type="submit"
      class="login-button full-width"
      [disabled]="loading">
      <mat-icon *ngIf="loading" class="spinning">refresh</mat-icon>
      <span *ngIf="!loading">Sign In</span>
      <span *ngIf="loading">Signing In...</span>
    </button>
  </form>

  <div class="demo-section">
    <mat-divider></mat-divider>
    <p class="demo-title">Demo Accounts</p>
    <div class="demo-buttons">
      <button 
        *ngFor="let demo of demoCredentials"
        mat-stroked-button 
        class="demo-button"
        (click)="fillDemoCredentials(demo)"
        [disabled]="loading">
        <div class="demo-button-content">
          <mat-icon [class]="'role-icon role-' + demo.role.toLowerCase()">
            {{ demo.role === 'Admin' ? 'admin_panel_settings' : 
               demo.role === 'Manager' ? 'supervisor_account' : 'drive_eta' }}
          </mat-icon>
          <div class="demo-text">
            <span class="role">{{ demo.role }}</span>
            <span class="email">{{ demo.email }}</span>
          </div>
        </div>
      </button>
    </div>
  </div>
</div>